[{"title":"åˆ›å»ºDeepSeekæœ¬åœ°éƒ¨ç½²Pythonç‰ˆæœ¬","url":"/hexo/2025/08/07/CreateDeepSeek/","content":"\nã€€æœ€è¿‘æƒ³åˆ›å»ºä¸€ä¸ªAIç¿»è¯‘æœºå™¨äººï¼ŒåŠ æˆªå›¾ç¿»è¯‘ï¼Œè™½ç„¶æ•ˆæœä¸å¤ªå¥½ï¼Œä½†æ˜¯æœºå™¨äººç¡®å®æå¥½äº†ï¼Œè®°å½•ä¸‹\n\nå®‰è£…ä¾èµ–ï¼ˆä¸»è¦éš¾ç‚¹ï¼‰\né¦–å…ˆç¡®è®¤Pythonçš„ç‰ˆæœ¬ä¸è¦å¤ªæ–°ï¼Œæˆ‘è¿™é‡Œæ˜¯ 3.11\næ‰“å¼€PyTorchå®˜ç½‘ https://pytorch.org/get-started/locally/\nä¸‹è½½PyTorchå®˜ç½‘æ˜¾ç¤ºçš„Cubaç‰ˆæœ¬ https://developer.nvidia.com/cuda-toolkit-archive\nå®‰è£…PyTorchå®˜ç½‘æ˜¾ç¤ºçš„å‘½ä»¤\n\nllama_cpp åº“ å®‰è£…$env:CMAKE_ARGS=&quot;-DGGML_CUDA=on&quot;pip install llama-cpp-python[server] --upgrade --force-reinstall --no-cache-dir\nå¦‚æœä½ å‡ºé—®é¢˜äº†ï¼Œè¯·æ£€æŸ¥CUDA,Pythonç‰ˆæœ¬,PyTorchç‰ˆæœ¬æ˜¯å¦åŒ¹é…\nä¸‹è½½DeepSeekæ¨¡å‹ä¸€èˆ¬ä» https://huggingface.co/deepseek-ai/deepseek-coder-7b-instruct-GGUF è·å–å›½å†…å¯ä»¥ç”¨ï¼šhttps://www.modelscope.cn/models/unsloth/DeepSeek-R1-Distill-Qwen-7B-GGUF/resolve/master/DeepSeek-R1-Distill-Qwen-7B-Q4_K_M.ggufhttps://www.modelscope.cn/models/unsloth/DeepSeek-R1-Distill-Qwen-14B-GGUF/resolve/master/DeepSeek-R1-Distill-Qwen-14B-Q4_K_M.gguf\nä»£ç import timefrom llama_cpp import Llama# ===== ç¡¬ä»¶ä¼˜åŒ–é…ç½® =====MODEL_PATH = r&quot;models\\DeepSeek-R1-Distill-Qwen-7B-Q4_K_M.gguf&quot;GPU_LAYERS = 30  # RTX 3050 Ti æ¨è30å±‚CPU_THREADS = 20   # 3900Xåˆ†é…6çº¿ç¨‹MAX_TOKENS = 4096 # æœ€å¤§ç”Ÿæˆé•¿åº¦# ===== R1ä¸“ç”¨å‚æ•° =====SYSTEM_PROMPT = &quot;ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç¿»è¯‘å®˜ï¼Œä½ çš„ä»»åŠ¡æ˜¯å°†ä¸‹é¢æä¾›ç»™ä½ çš„æ–‡æœ¬ç¿»è¯‘æˆå¯ä¾›ä¸­å›½äººé˜…è¯»çš„ä¸­æ–‡ï¼Œåªè¾“å‡ºç¿»è¯‘ç»“æœï¼Œä¸è¦å…¶ä»–é¢å¤–çš„è¾“å‡º&quot;# ===== æ¨¡å‹åˆå§‹åŒ– =====print(&quot;â³ æ­£åœ¨åŠ è½½DeepSeek-R1æ¨¡å‹ï¼Œè¯·ç¨å€™...&quot;)start_time = time.time()llm = Llama(    model_path=MODEL_PATH,    n_gpu_layers=30,    n_threads=20,    n_ctx=4096,    n_batch=512,    verbose=True)load_time = time.time() - start_timeprint(f&quot;âœ… æ¨¡å‹åŠ è½½å®Œæˆ! è€—æ—¶: &#123;load_time:.1f&#125;ç§’&quot;)# ===== R1ä¸“ç”¨å¯¹è¯æ ¼å¼ =====def format_r1_prompt(user_input):    return [        &#123;&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: SYSTEM_PROMPT&#125;,        &#123;&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: user_input&#125;    ]# ===== æµå¼è¾“å‡ºå‡½æ•° =====def generate_response(prompt):    try:        response = llm.create_chat_completion(            messages=format_r1_prompt(prompt),            max_tokens=MAX_TOKENS,            temperature=0.7,            stop=[&quot;&lt;|im_end|&gt;&quot;],            stream=True        )                full_response = &quot;&quot;        for chunk in response:            delta = chunk[&#x27;choices&#x27;][0][&#x27;delta&#x27;]            if &#x27;content&#x27; in delta:                content = delta[&#x27;content&#x27;]                print(content, end=&#x27;&#x27;, flush=True)                full_response += content        return full_response    except Exception as e:        return f&quot;âŒ ç”Ÿæˆé”™è¯¯: &#123;str(e)&#125;&quot;# ===== ä¸»äº¤äº’å¾ªç¯ =====print(&quot;\\nğŸ¤– DeepSeek-R1åŠ©æ‰‹å·²å°±ç»ªï¼ˆè¾“å…¥&#x27;exit&#x27;é€€å‡ºï¼‰&quot;)print(&quot;ğŸ’¡ æç¤ºï¼šR1æ˜¯é€šç”¨å¯¹è¯æ¨¡å‹ï¼Œé€‚åˆå„ç±»é—®é¢˜\\n&quot;)while True:    try:        # è·å–ç”¨æˆ·è¾“å…¥        user_input = input(&quot;\\nğŸ‘¤ æ‚¨: &quot;)                if user_input.lower() == &#x27;exit&#x27;:            print(&quot;ğŸ›‘ åŠ©æ‰‹å·²é€€å‡º&quot;)            break                # ç”Ÿæˆå›å¤        print(&quot;ğŸ¤– R1: &quot;, end=&#x27;&#x27;, flush=True)        start_gen = time.time()                # æµå¼è¾“å‡º        response = generate_response(user_input)                # æ€§èƒ½ç»Ÿè®¡        gen_time = time.time() - start_gen        tokens = len(llm.tokenize(response.encode()))        print(f&quot;\\nâ±ï¸ ç”Ÿæˆè€—æ—¶: &#123;gen_time:.1f&#125;s | ğŸ“ ä»¤ç‰Œæ•°: &#123;tokens&#125;&quot;)            except KeyboardInterrupt:        print(&quot;\\nğŸ›‘ æ“ä½œå·²ä¸­æ–­&quot;)        break","categories":["å¼€å‘ç¼–ç¨‹"],"tags":["AI"]},{"title":"MQTTçš„åˆæ¬¡ç ”ç©¶","url":"/hexo/2025/09/16/MQTT%E7%9A%84%E5%88%9D%E6%AC%A1%E7%A0%94%E7%A9%B6/","content":"MQTTæ˜¯ä¸€ç§åŸºäºå‘å¸ƒ&#x2F;è®¢é˜…æ¨¡å¼çš„è½»é‡çº§æ¶ˆæ¯ä¼ è¾“åè®®ï¼Œå¯ä»¥å®ç°ç±»ä¼¼æ™ºèƒ½å®¶å±…çš„é€šä¿¡ï¼Œéœ€è¦ä¸€ä¸ªä¸­é—´è€…\nMQTTæœåŠ¡å™¨æ­å»º  (ä¸èƒ½å•†ç”¨)\ndocker pull emqx/emqx\nå¯åŠ¨å®¹å™¨\ndocker run -d --name emqx -p 1883:1883 -p 8083:8083 -p 8084:8084 -p 8883:8883 -p 18083:18083 emqx/emqx:latest\nå‘å¸ƒè€…\nimport timeimport paho.mqtt.client as mqttimport jsonMQTT_SERVER = &#x27;localhost&#x27;MQTT_PORT = 1883client = mqtt.Client()client.connect(MQTT_SERVER, MQTT_PORT, 60)client.loop_start()data = &#123;&quot;id&quot;: 1, &quot;name&quot;: &quot;tiger&quot;, &quot;status&quot;: 0, &quot;timestamp&quot;: time.time()&#125;while True:    if(data[&#x27;status&#x27;] == 0):        data[&#x27;status&#x27;] = 1    else:        data[&#x27;status&#x27;] = 0    msg = json.dumps(data)    client.publish(&#x27;test&#x27;, msg, 1)    print(&#x27;send:&#x27;, data)    time.sleep(1)\n\nè®¢é˜…è€…\nimport paho.mqtt.client as mqttimport jsonMQTT_SERVER = &#x27;localhost&#x27;MQTT_PORT = 1883# å®šä¹‰æ¶ˆæ¯å¤„ç†å‡½æ•°def on_message(client, userdata, msg):    try:        # å°è¯•è§£æJSONæ•°æ®        data = json.loads(msg.payload)        print(f&quot;æ”¶åˆ°ä¸»é¢˜ &#123;msg.topic&#125; çš„æ¶ˆæ¯: &#123;data&#125;&quot;)    except json.JSONDecodeError:        # å¦‚æœä¸æ˜¯JSONæ ¼å¼ï¼Œç›´æ¥æ‰“å°åŸå§‹æ¶ˆæ¯        print(f&quot;æ”¶åˆ°ä¸»é¢˜ &#123;msg.topic&#125; çš„æ¶ˆæ¯: &#123;msg.payload&#125;&quot;)# åˆ›å»ºå®¢æˆ·ç«¯å®ä¾‹client = mqtt.Client()# å…ˆè®¾ç½®æ¶ˆæ¯å¤„ç†å‡½æ•°client.on_message = on_message# è¿æ¥åˆ°MQTTæœåŠ¡å™¨client.connect(MQTT_SERVER, MQTT_PORT, 60)# è®¢é˜…ä¸»é¢˜client.subscribe(&#x27;test&#x27;, 1)# å¼€å§‹å¾ªç¯å¤„ç†client.loop_start()# ä¿æŒç¨‹åºè¿è¡Œtry:    while True:        pass  # ä¿æŒä¸»ç¨‹åºè¿è¡Œexcept KeyboardInterrupt:    print(&quot;ç¨‹åºå·²åœæ­¢&quot;)    client.loop_stop()    client.disconnect()"},{"title":"RootShellForTermux","url":"/hexo/2025/08/23/RootShellForTermux/","content":"åœ¨ä½¿ç”¨adb Shellæ—¶æ— æ³•è°ƒç”¨Termuxå·¥å…·ï¼Œè®°å½•ä¸‹è§£å†³æ–¹æ³•\n# é…ç½® Termux å‘½ä»¤è·¯å¾„export PATH=/data/data/com.termux/files/usr/bin:/data/data/com.termux/files/usr/bin/applets:$PATH# é…ç½® Termux åº“è·¯å¾„export LD_LIBRARY_PATH=/data/data/com.termux/files/usr/lib#è°ƒç”¨å·¥å…·å®ä¾‹python /data/data/com.termux/files/home/script/main.py"},{"title":"è·³è¿‡Windows OOBEè”ç½‘","url":"/hexo/2025/07/28/SkipWindowsActivation/","content":"åœ¨OOBEä¸­æŒ‰ä¸‹Shift + F10è¿›å…¥å‘½ä»¤è¡Œï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\nstart ms-cxh:localonly\nç„¶åè¾“å…¥ç”¨æˆ·åï¼Œå¯†ç å¯é€‰\n\nå¯†ç å¦‚æœä¸è¾“å…¥ï¼Œé‚£ä¹ˆä¼šè·³è¿‡æ¬¢è¿ç•Œé¢\n\n","categories":["å®ç”¨å°æŠ€å·§"],"tags":["æ“ä½œç³»ç»Ÿ"]},{"url":"/hexo/2025/10/11/TermuxDocker/","content":"Installing Docker in TermuxThis repository contains instructions on how to install Docker in Termux, a powerful terminal emulator for Android.\nPrerequisitesBefore proceeding with the installation, make sure you have the following prerequisites:\n\nAn Android device with Termux installed. You can download Termux from the F-Droid app store.\nStable internet connection.\n\nInstallation StepsFollow the steps below to install Docker in Termux:\n\nOpen Termux on your Android device.\n\nUpdate and upgrade the packages by running the following command:\n\n\npkg update -y &amp;&amp; pkg upgrade -y\n\n\nInstall the necessary dependencies by running the following command:\n\npkg install qemu-utils qemu-common qemu-system-x86_64-headless wget -y\n\n\nCreate a seperate directory:\n\nmkdir alpine &amp;&amp; cd alpine\n\n\nDownload Alpine Linux 3.20.2 (virt optimized) ISO:\n\nwget http://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-virt-3.20.2-x86_64.iso\n\n\nCreate disk (note it wonâ€™t actually take 5GB of space, more like 500-600MB):\n\nqemu-img create -f qcow2 alpine.img 5G\n\n\nBoot it up:Here weâ€™re using 1024MB of memory and 2 cpus\n\nqemu-system-x86_64 -machine q35 -m 1024 -smp cpus=2 -cpu qemu64 -drive if=pflash,format=raw,read-only=on,file=$PREFIX/share/qemu/edk2-x86_64-code.fd -netdev user,id=n1,dns=8.8.8.8,hostfwd=tcp::2222-:22 -device virtio-net,netdev=n1 -cdrom alpine-virt-3.20.2-x86_64.iso -nographic alpine.img\n\nyou can get number of useable cpus using nproc and total memory using free -m | grep -oP &#39;\\d+&#39; | head -n 1\n\nLogin with username root (no password)\n\n\n\nSetup network (press Enter to use defaults):\n\nlocalhost:~# setup-interfaces Available interfaces are: eth0. Enter &#x27;?&#x27; for help on bridges, bonding and vlans. Which one do you want to initialize? (or &#x27;?&#x27; or &#x27;done&#x27;) [eth0] Ip address for eth0? (or &#x27;dhcp&#x27;, &#x27;none&#x27;, &#x27;?&#x27;) [dhcp] Do you want to do any manual network configuration? [no]\nlocalhost:~# \nifup eth0\n\n\nCreate an answerfile to speed up installation:\n\nwget https://raw.githubusercontent.com/cyberkernelofficial/docker-in-termux/main/answerfile\n\nNOTE: If you see any error like this: wget: bad address &#39;gist.githubusercontent.com&#39;. Then run this command\necho -e &quot;nameserver 192.168.1.1\\nnameserver 1.1.1.1&quot; &gt; /etc/resolv.conf\n\nPatch setup-disk to enable serial console output on boot:\n\nsed -i -E &#x27;s/(local kernel_opts)=.*/\\1=&quot;console=ttyS0&quot;/&#x27; /sbin/setup-disk\n\n\nRun setup to install to disk\n\nsetup-alpine -f answerfile\n\n\nOnce installation is complete, power off the VM (command poweroff)\n\nBoot again without cdrom:\n\n\nqemu-system-x86_64 -machine q35 -m 1024 -smp cpus=2 -cpu qemu64 -drive if=pflash,format=raw,read-only=on,file=$PREFIX/share/qemu/edk2-x86_64-code.fd -netdev user,id=n1,dns=8.8.8.8,hostfwd=tcp::2222-:22 -device virtio-net,netdev=n1 -nographic alpine.img\n\nA -nano run_qemu.shIn the text editor, write the following:\n#!/bin/bashqemu-system-x86_64 -machine q35 -m 1024 -smp cpus=2 -cpu qemu64 -drive if=pflash,format=raw,read-only=on,file=$PREFIX/share/qemu/edk2-x86_64-code.fd -netdev user,id=n1,dns=8.8.8.8,hostfwd=tcp::2222-:22 -device virtio-net,netdev=n1 -nographic alpine.img\nSave and close the file. In nano, you can do this by pressing Ctrl+X, then Y to confirm saving, and then Enter to confirm the filename.\nB - chmod command: chmod +x run_qemu.sh\nC - ./run_qemu.sh\n\nUpdate system and install docker:\n\necho &quot;nameserver 8.8.8.8&quot; &gt; /etc/resolv.confecho &quot;nameserver 8.8.4.4&quot; &gt;&gt; /etc/resolv.confapk update &amp;&amp; apk add docker\n\n\nStart docker:\n\nservice docker start\n\n\nEnable docker on boot:\n\nrc-update add docker\n\n\nCheck docker install successfully or not:\n\ndocker run hello-world\n\nSome useful keys\nCtrl+a x: quit emulation\nCtrl+a h: toggle QEMU console\n\nUsageNow that Docker is installed in Termux, you can start using it to manage and run containers on your Android device. Refer to the official Docker documentation for more information on how to use Docker.\nContributingIf you encounter any issues during the installation process or have suggestions for improvements, please feel free to open an issue or submit a pull request.\nAcknowledgment\nThis article inspired from: https://gist.github.com/oofnikj/e79aef095cd08756f7f26ed244355d62\n\nLicenseThis project is licensed under the MIT License.\n"},{"title":"UbuntuOpenVpnClient","url":"/hexo/2025/08/20/UbuntuOpenVpnClient/","content":"sudo nmcli connection import type openvpn file &lt;openvpné…ç½®æ–‡ä»¶è·¯å¾„&gt;sudo nmcli connection modify &lt;vpn_name&gt; vpn.user-name &quot;ShawLiu&quot;sudo nmcli connection up &lt;vpn_name&gt;\n\n\ndocker åˆ›å»ºOpen VPNæœåŠ¡å™¨\ndocker run -d   --name=openvpn-as --device /dev/net/tun   --cap-add=MKNOD --cap-add=NET_ADMIN   -p 943:943 -p 443:443 -p 1194:1194/udp   -v ./opt/openvpn:/openvpn   --restart=unless-stopped   openvpn/openvpn-as"},{"title":"åˆ›å»ºåšå®¢ï¼ˆhexoï¼‰","url":"/hexo/2025/07/29/createBlog/","content":"éœ€è¦çš„ç‰©å“\nä¸€å°æœåŠ¡å™¨(é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€åä¸ºäº‘ç­‰)\nLiunxç³»ç»Ÿï¼ˆUbuntuï¼‰\n\nå¯é€‰é¡¹\nåŸŸå\nå¤‡æ¡ˆ\nSSL\n\nå…·ä½“æ­¥éª¤ï¼š1. å®‰è£… fnmwget https://github.com/Schniz/fnm/releases/download/v1.38.1/fnm-linux.zip\n2. è§£å‹unzip fnm-linux.zip\n3. ç§»åŠ¨åˆ° ~&#x2F;.local&#x2F;binmv fnm ~/.local/bin\n4. å°†fnmåŠ å…¥ç¯å¢ƒå˜é‡echo &#x27;export PATH=&quot;$HOME/.local/bin/fnm:$PATH&quot;&#x27; &gt;&gt; /etc/profileecho &#x27;eval &quot;$(fnm env)&quot;&#x27; &gt;&gt; /etc/profilesource /etc/profile\n5. å®‰è£… nodejsfnm install 20.18.0fnm use 20.18.0\n6. å®‰è£… hexonpm install hexo -g\n7. åˆå§‹åŒ– hexomkdir blogcd bloghexo init\n\næµ‹è¯•æ­å»ºæ˜¯å¦å®Œæˆ,ä½¿ç”¨å‘½ä»¤ hexo serverè®¿é—® http:&#x2F;&#x2F;ã€æœåŠ¡å™¨IPã€‘:4000 å³å¯çœ‹åˆ° hexo åšå®¢\n\n8. å®‰è£…Butterflyä¸»é¢˜ç‚¹å‡»è¿›å…¥ Butterflyå®˜æ–¹æ•™ç¨‹åœ¨ä½ çš„ Hexo æ ¹ç›®å½•å†…\ngit clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git\nç„¶åå°†ä¸»é¢˜é…ç½®æ–‡ä»¶å¤åˆ¶åˆ° Hexo æ ¹ç›®å½•\ncp -f hexo-theme-butterfly/_config.yml ./_config.butterfly.yml\n\nå‡çº§æ–¹æ³•ï¼šåœ¨ä¸»é¢˜ç›®å½•ä¸‹ï¼Œè¿è¡Œ git pull\n\nåº”ç”¨ä¸»é¢˜ä¿®æ”¹ Hexo æ ¹ç›®å½•ä¸‹çš„_config.yml ï¼ŒæŠŠä¸»é¢˜æ”¹ä¸º butterfly\ntheme: butterfly\n\nå¦‚æœä½ é‡åˆ°äº†å¯¼èˆªæ å¸ƒå±€é—®é¢˜ï¼Œè¯·ä¿®æ”¹themes\\butterfly\\source\\css\\_layout\\head.stylåŠ ä¸€ä¸ªdisplay: flex;\n&amp;.fixed  #nav    position: fixed    display: flex !important  // è¿™é‡Œï¼Œè§£å†³äº†å¯¼èˆªæ å’Œä¾§è¾¹æ å‚ç›´æ˜¾ç¤ºçš„é—®é¢˜  &amp; + .layout    &amp; &gt; .aside-content &gt; .sticky_layout      top: 70px      transition: top .5s    #card-toc      .toc-content        max-height: calc(100vh - 170px)\n","categories":["å¼€å‘ç¼–ç¨‹"],"tags":["åšå®¢"]},{"title":"æ­å»ºclashæœåŠ¡å™¨","url":"/hexo/2025/07/26/createClashServer/","content":"\nè¿™ä¸ªæ–‡ç« æ˜¯ä¸ºäº†æ­å»ºä¸€ä¸ªclashæœåŠ¡å™¨ï¼Œç”¨äºä»£ç†ç½‘ç»œæµé‡ï¼Œå¯æ˜¯è¿™æ ·æ­å»ºçš„æœåŠ¡å™¨åªèƒ½ç”¨æ¥ä»£ç†httpå’Œhttpsçš„æµé‡ï¼Œä¸å¤Ÿå…¨å±€ï¼Œæ¯”å¦‚ä¸èƒ½æ‰“æ¸¸æˆå•¦ï¼Œæ‰€ä»¥æ›´æ¨èçœ‹è¿™ç¯‡æ–‡ç« ï¼šè¿™é‡Œ\n\néœ€è¦çš„ç‰©å“ï¼š\nå¤–ç½‘çš„ vpsï¼ˆå›½å¤–çš„æœåŠ¡å™¨ï¼‰,\n\nMicrosoft Azure è®¢é˜…\nè…¾è®¯äº‘\n\n\nä¸€ä¸ªåŸŸå\n\nåœ¨è¿™é‡Œè·å–ä¸€ä¸ªåŸŸå\n\n\nä¸€ä¸ªSSLè¯ä¹¦\n\nå‚è€ƒï¼šè¿™é‡Œ\n\n\n\nå…·ä½“æ­¥éª¤1. è¿›å…¥vpsï¼Œç„¶åå®‰è£… 1panel(bash -c &quot;$(curl -sSL https://resource.fit2cloud.com/1panel/package/v2/quick_start.sh)&quot;) # åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨å®‰è£…docker\n2. å°†åŸŸåå’ŒIPç»‘å®š1. ç™»å½•cloudflareï¼Œå°†åŸŸååŠ å…¥cloudflareçš„é˜²å¾¡\n2. è¿›å…¥https://dash.cloudflare.com/68e38eexxxxxxxxx/&lt;YOUR.DOMAIN.COM&gt;/dns\n3. æ·»åŠ ä¸€æ¡Aè®°å½•ï¼Œå°†åŸŸåæŒ‡å‘vpsçš„IPåœ°å€\n\n3. å®‰è£…è¯ä¹¦å‚è€ƒï¼šhttps://www.runoob.com/http/ssl-certbot.htmlç”Ÿæˆçš„è¯ä¹¦ä¼šåœ¨/etc/letsencrypt/live/&lt;YOUR.DOMAIN.COM/&gt;ç›®å½•ä¸‹ï¼Œè¿™ä¸ªè¯ä¹¦90å¤©åå°±è¿‡æœŸäº†ï¼Œæ‰€ä»¥ï¼Œéœ€è¦å®šæœŸæ›´æ–°è¯ä¹¦æ‰‹åŠ¨æ›´æ–°:\ncertbot certonly --force-renewal --manual -d &#x27;&lt;YOUR.DOMAIN.COM/&gt;&#x27; \\--preferred-challenges dns \\--server https://acme-v02.api.letsencrypt.org/directory\nå¯ä»¥åšä¸€ä¸‹è¯ä¹¦çš„è‡ªåŠ¨åŒ–æ›´æ–°ã€‚\n4. è¿è¡Œä»£ç†æœåŠ¡å™¨ï¼ˆå…³é”®ï¼‰#!/bin/bash# ä¸‹é¢çš„å››ä¸ªå‚æ•°éœ€è¦æ”¹æˆä½ çš„DOMAIN=&quot;YOU.DOMAIN.NAME&quot;USER=&quot;username&quot;PASS=&quot;password&quot;PORT=443BIND_IP=0.0.0.0CERT_DIR=/etc/letsencryptCERT=$&#123;CERT_DIR&#125;/live/$&#123;DOMAIN&#125;/fullchain.pemKEY=$&#123;CERT_DIR&#125;/live/$&#123;DOMAIN&#125;/privkey.pemsudo docker run -d --name gost \\    -v $&#123;CERT_DIR&#125;:$&#123;CERT_DIR&#125;:ro \\    --net=host ginuerzh/gost \\    -L &quot;http2://$&#123;USER&#125;:$&#123;PASS&#125;@$&#123;BIND_IP&#125;:$&#123;PORT&#125;?cert=$&#123;CERT&#125;&amp;key=$&#123;KEY&#125;&amp;probe_resist=code:404&amp;knock=www.google.com&quot;\n\nå…³äº gost çš„å‚æ•°ï¼Œ ä½ å¯ä»¥å‚çœ‹å…¶æ–‡æ¡£ï¼šGost Wikiï¼Œä¸Šé¢æˆ‘è®¾ç½®ä¸€ä¸ªå‚æ•° probe_resist&#x3D;code:404 æ„æ€æ˜¯ï¼Œå¦‚æœæœåŠ¡å™¨è¢«æ¢æµ‹ï¼Œæˆ–æ˜¯ç”¨æµè§ˆå™¨æ¥è®¿é—®ï¼Œè¿”å›404é”™è¯¯ï¼Œä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ªç½‘é¡µï¼ˆå¦‚ï¼šprobe_resist&#x3D;file:&#x2F;path&#x2F;to&#x2F;file.txt æˆ–å…¶å®ƒç½‘ç«™ probe_resist&#x3D;web:example.com&#x2F;page.htmlï¼‰\n\nå¦‚æ— æ„å¤–ï¼Œä½ çš„æœåŠ¡å°±å¯èµ·æ¥äº†ã€‚ ä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤åœ¨æ£€æŸ¥æœ‰æ²¡æœ‰å¯åŠ¨æˆåŠŸï¼šsudo docker ps æ¥æŸ¥çœ‹ gost æ˜¯å¦åœ¨è¿è¡Œã€‚netstat -nolp | grep 443 æ¥æŸ¥çœ‹ gost æ˜¯å¦åœ¨ç›‘å¬ 443 ç«¯å£ã€‚sudo docker logs gost æ¥æŸ¥çœ‹ gost çš„æ—¥å¿—ã€‚ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤éªŒè¯ä½ çš„ gost æœåŠ¡æ˜¯å¦æ­£å¸¸ã€‚\ncurl -v &quot;https://www.google.com&quot; --proxy &quot;https://$&#123;DOMAIN&#125;&quot; --proxy-user &#x27;$&#123;USER&#125;:$&#123;PASS&#125;&#x27;\n5. é…ç½®Clashä¸‹åˆ—ä¸ºClashé…ç½®æ–‡ä»¶ç¤ºä¾‹\nmixed-port: 7890allow-lan: truebind-address: &#x27;*&#x27;mode: rulelog-level: infoexternal-controller: &#x27;127.0.0.1:9090&#x27;dns:    enable: false    ipv6: true    default-nameserver: [223.5.5.5, 119.29.29.29, 8.8.8.8]    enhanced-mode: fake-ip    fake-ip-range: 198.18.0.1/16    use-hosts: true    nameserver: [&#x27;https://doh.pub/dns-query&#x27;, &#x27;https://dns.alidns.com/dns-query&#x27;]    fallback: [&#x27;https://doh.dns.sb/dns-query&#x27;, &#x27;https://dns.cloudflare.com/dns-query&#x27;, &#x27;https://dns.twnic.tw/dns-query&#x27;, &#x27;tls://8.8.4.4:853&#x27;]    fallback-filter: &#123; geoip: true, ipcidr: [240.0.0.0/4, 0.0.0.0/32] &#125;proxies:    - &#123; name: &#x27;pansyliu-proxy&#x27;, type: http, server: &lt;YOUR.DOMAIN.COM/&gt;, port: 443, username: USER, password: PASS, tls: true ,http2: true&#125;","categories":["å¼€å‘ç¼–ç¨‹"],"tags":["ç½‘ç»œä»£ç†"]},{"title":"Hello World","url":"/hexo/2025/10/11/hello-world/","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.\nQuick StartCreate a new post$ hexo new &quot;My New Post&quot;\n\nMore info: Writing\nRun server$ hexo server\n\nMore info: Server\nGenerate static files$ hexo generate\n\nMore info: Generating\nDeploy to remote sites$ hexo deploy\n\nMore info: Deployment\n"},{"title":"qemu","url":"/hexo/2025/08/17/qemu/","content":"qemu æ˜¯ä¸€ä¸ªå¼€æºçš„è™šæ‹Ÿæœºè½¯ä»¶ï¼Œå®ƒå¯ä»¥åœ¨ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸Šè¿è¡Œå¦ä¸€ä¸ªæ“ä½œç³»ç»Ÿã€‚\nå®‰è£…userï¼ˆç½‘ç»œåŠŸèƒ½ï¼‰git clone https://gitlab.freedesktop.org/slirp/libslirp.gitcd libslirp/meson buildninja -C build installsudo ninja -C build install\nå®‰è£…# æ›´æ–°è½¯ä»¶åŒ…ç´¢å¼•sudo apt update# å…‹éš†qemuä»“åº“git clone https://github.com/qemu/qemu.git# è¿›å…¥qemuç›®å½•cd qemusudo apt install meson -ysudo apt-get install libsdl2-2.0 -ysudo apt-get install libsdl2-dev -ysudo apt-get install libgtk-3-dev -y# åˆå§‹åŒ–å­æ¨¡å—sudo apt install build-essential -y# å®‰è£…Pythonç›¸å…³ä¾èµ–ï¼ˆè™šæ‹Ÿç¯å¢ƒæ”¯æŒï¼‰sudo apt install python3-venv -y# å®‰è£…æ„å»ºå·¥å…·sudo apt install ninja-build -y# å®‰è£…pkg-configï¼ˆä¾èµ–ç®¡ç†å·¥å…·ï¼‰å’Œglib2.0å¼€å‘åº“sudo apt install pkg-config libglib2.0-dev -y#kvm æ”¯æŒsudo apt install qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils -y# å®‰è£…è¯æ³•/è¯­æ³•åˆ†æå·¥å…·sudo apt install flex bison -ysudo ./configure --enable-sdl --enable-gtk --enable-kvmcd buildmakesudo make install\n\nä½¿ç”¨qemu-system-x86_64 -hda ubuntu.img -cdrom ubuntu.iso -boot d -m 4G\n"},{"title":"vmessåè®®ä»£ç†æ­å»º","url":"/hexo/2025/08/05/vmess/","content":"\nè¿™ç§ä»£ç†æ–¹å¼æ›´æ–¹ä¾¿ï¼Œä¸éœ€è¦åŸŸåï¼Œä¹Ÿä¸éœ€è¦è¯ä¹¦ï¼Œåªéœ€è¦åœ¨å®¢æˆ·ç«¯é…ç½®å¥½vmessçš„åœ°å€å’Œç«¯å£ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ï¼Œè€Œä¸”æ”¯æŒæ¸¸æˆåŠ é€Ÿï¼Œä½†æ˜¯æˆ‘æ²¡æ‰¾åˆ°æ‰€è°“çš„ rule æ¨¡å¼ æ‰€ä»¥æ˜¯é»˜è®¤å…¨å±€çš„è¿™ç‚¹éå¸¸ä¸æ–¹ä¾¿ã€‚\n\næ­å»ºvmessæœåŠ¡å™¨æœåŠ¡å™¨ç«¯éœ€è¦çš„ç‰©å“ï¼š\n\nå¤–ç½‘çš„ vpsï¼ˆå›½å¤–çš„æœåŠ¡å™¨ï¼‰,\nMicrosoft Azure è®¢é˜…\nè…¾è®¯äº‘\n\n\nä¸€ä¸ªå¥å…¨çš„å¤§è„‘\nä¸€ä¸ªæœ‰è€å¿ƒçš„äºº\n\nè¿è¡Œå®‰è£…è„šæœ¬\nbash &lt;(curl -s -L https://raw.githubusercontent.com/xyz690/v2ray/master/install.sh)\n\nå›è½¦é€‰æ‹©1å®‰è£…ç„¶ååè®®é€‰æ‹©2(tcp-http)ï¼Œç«¯å£å·é»˜è®¤å³å¯ï¼Œå¹¿å‘Šæ‹¦æˆªåˆ«é€‰ï¼Œå› ä¸ºä¼šå‡é€Ÿå¯é€‰å®‰è£… Shadowsocks ï¼ˆåº”è¯¥å¯ä»¥é è¿™ä¸ªç»™clashä½¿ç”¨ï¼Œè™½ç„¶æˆ‘ä¸ä¼šé…ç½®ï¼‰å¤åˆ¶ä¸€ä¸‹é“¾æ¥\nå®¢æˆ·ç«¯ç‚¹å‡»è¿™é‡Œä¸‹è½½æ‰“å¼€åç›´æ¥ctrl+vå¯¼å…¥è¯¥é…ç½®å¹¶å¯ç”¨ç„¶åæ‰“å¼€è®¾ç½®ï¼Œç¡®è®¤è¿™ä¸¤ä¸ªå‚æ•°ï¼šç‚¹å‡»ç¡®å®šï¼Œæ¥ä¸‹æ¥ä¸‹è½½SSTAP(æ¸¸æˆåŠ é€Ÿå™¨)ï¼Œé“¾æ¥å¦‚ä¸‹è¿™é‡Œå®‰è£…SSTAPä¸‹è½½åï¼Œè¿è¡ŒSSTAP.exeç¨‹åº,é€‰æ‹©æ·»åŠ socks5ï¼šæœåŠ¡å™¨IPå¡«127.0.0.1ï¼Œç«¯å£å¡«10808ï¼Œåˆ†ç»„åç§°é€‰defaultï¼Œcountryé€‰æ‹©ä½ çš„æœåŠ¡å™¨åœ°åŒºï¼Œç‚¹å‡»ä¿å­˜ï¼Œè¿”å›è¿›å…¥ä¸»é¡µé¢ï¼Œæ¨¡å¼ä¸‹æ‹‰åˆ—è¡¨é€‰æ‹©ä½ çš„æ¸¸æˆï¼Œæ²¡æœ‰çš„è¯ç›´æ¥ç¬¬ä¸€ä¸ªå…¨å±€å†…ç½®è§„åˆ™å³å¯ï¼Œç‚¹å‡»è¿æ¥å³å¯åŠ¨æ¸¸æˆåŠ é€Ÿå™¨ï¼Œä¸€èˆ¬è€Œè¨€SGå’ŒHKçš„å»¶è¿Ÿåœ¨100mså·¦å³ï¼Œå‹‰å¼ºæ˜¯å¤Ÿç”¨çš„ï¼Œå¯ä»¥æ‰“æ‰“FPSã€‚å¦‚æœä¸ç”¨çš„è¯ç‚¹å‡»æ–­å¼€è¿æ¥ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°ç”µè„‘æµè§ˆå™¨è¿ä¸ä¸Šç½‘ç»œçš„æƒ…å†µ\n","categories":["å¼€å‘ç¼–ç¨‹"],"tags":["ç½‘ç»œä»£ç†"]},{"title":"åœ¨Vueä¸­ä½¿ç”¨JSX","url":"/hexo/2025/08/01/vueUseJsx/","content":"\næœ€è¿‘åœ¨å­¦ä¹ Reactï¼Œå‘ç°Reactçš„JSXè¯­æ³•éå¸¸å¼ºå¤§ï¼Œäºæ˜¯æœ‰ä¸€ä¸ªæƒ³æ³•ï¼šåœ¨Vueä¸­ä½¿ç”¨JSXè¯­æ³•ï¼Œå‘ç°ç¡®å®æ”¯æŒï¼Œå†™ä¸‹è¿™ç¯‡æ–‡ç« è®°å½•ä¸€ä¸‹ã€‚\n\nVue3 (Vite)\nå®‰è£…æ’ä»¶\n\nnpm install @vitejs/plugin-vue-jsx\n\né…ç½® Viteä¿®æ”¹ vite.config.js æˆ– vite.config.ts æ–‡ä»¶ï¼š\n\nimport &#123; defineConfig &#125; from &#x27;vite&#x27;;import vue from &#x27;@vitejs/plugin-vue&#x27;;import vueJsx from &#x27;@vitejs/plugin-vue-jsx&#x27;;export default defineConfig(&#123;  plugins: [vue(), vueJsx()]&#125;);\n\nç¤ºä¾‹åˆ›å»ºä¸€ä¸ªåä¸º MyApp.jsx çš„æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n\nimport &#123; defineComponent &#125; from &#x27;vue&#x27;export default defineComponent(&#123;    name: &quot;Myapp&quot;,    props: &#123;        msg: &#123; type: String &#125;    &#125;,    setup(props) &#123;        return () =&gt;(        &lt;div&gt;            &lt;h1&gt;hello &#123;props.msg&#125;&lt;/h1&gt;        &lt;/div&gt;        )    &#125;&#125;)\n\nä¸ºä½•è¿™æ ·å†™ï¼Ÿä¸ä½¿ç”¨æ›´ç®€å•çš„:\nexport default function Myapp(&#123;msg&#125;)&#123;   return (       &lt;div&gt;           &lt;h1&gt;hello &#123;msg&#125;&lt;/h1&gt;       &lt;/div&gt;   )&#125;\nè¿™æ˜¯å› ä¸ºï¼šå¯ä»¥ä½¿ç”¨defineComponentæ¥å®šä¹‰ç»„ä»¶ï¼Œè¿™æ ·å¯ä»¥ä½¿ç”¨vueçš„ä¸€äº›åŠŸèƒ½ï¼Œæ¯”å¦‚propsã€setup,onMountedç­‰ã€‚ç„¶ååœ¨ vue æ–‡ä»¶ä¸­å¼•å…¥ï¼š\n\n&lt;template&gt;    &lt;div&gt;        &lt;h1&gt;home&lt;/h1&gt;        &lt;Myapp :msg=&quot;username&quot; /&gt;    &lt;/div&gt;&lt;/template&gt;&lt;script setup&gt;&lt;/script&gt;&lt;script setup lang=&quot;tsx&quot;&gt;import &#123; ref &#125; from &#x27;vue&#x27;import Myapp from &#x27;./MyApp.jsx&#x27;let username = ref(&quot;shaw&quot;)&lt;/script&gt;&lt;style&gt;&lt;/style&gt;\nVue2 (Vue-CLI) Webpackå®‰è£…ä¾èµ–\npnpm install @vue/babel-preset-jsx @vue/babel-helper-vue-jsx-merge-props -D\nä¿®æ”¹babel.config.jsæ–‡ä»¶:\nmodule.exports = &#123;  presets: [    &#x27;@vue/cli-plugin-babel/preset&#x27;,    &#x27;@vue/babel-preset-jsx&#x27;  ]&#125;\nåˆ›å»ºä¸€ä¸ªjsxæ–‡ä»¶ï¼š\n// å®šä¹‰ä¸€ä¸ªJSXç»„ä»¶const Hello = &#123;&#125;Hello.props = &#123;  name: &#123;    type: String,    default: &#x27;World&#x27;  &#125;&#125;// eslint-disable-next-line no-unused-varsHello.render = function(h) &#123;  return (    &lt;div className=&quot;hello&quot;&gt;      &lt;h1&gt;Hello, &#123;this.name&#125;!&lt;/h1&gt;      &lt;p&gt;This is a JSX component imported from a .jsx file&lt;/p&gt;    &lt;/div&gt;  )&#125;export default Hello\nä¿®æ”¹App.vue\n&lt;template&gt;  &lt;div id=&quot;app&quot;&gt;    &lt;Hello name=&quot;Vue JSX&quot; /&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import Hello from &#x27;./components/Hello.jsx&#x27;export default &#123;  name: &#x27;App&#x27;,  components: &#123;    Hello  &#125;&#125;&lt;/script&gt;&lt;style&gt;&lt;/style&gt;","categories":["å¼€å‘ç¼–ç¨‹"],"tags":["vue","jsx"]},{"title":"åˆ›å»ºHome AssistantæœåŠ¡","url":"/hexo/2025/08/23/%E5%88%9B%E5%BB%BAHome-Assistant%E6%9C%8D%E5%8A%A1/","content":"1.åˆ›å»ºdockerå®¹å™¨\nsudo docker run -d --name homeassistant --privileged --restart=unless-stopped -e TZ=Asia/Shanghai -v /data/homeassistant:/config --network=host homeassistant/home-assistantmkdir /data/homeassistantmkdir /data/homeassistant/wwwmkdir /data/homeassistant/custom_componentsmkdir /data/homeassistant/custom_components/hacscd /data/homeassistant/custom_components/hacswget https://github.com/hacs/integration/releases/download/2.0.5/hacs.zip # ä¸‹è½½hacsæ’ä»¶ å¯ä»¥è‡ªå·±ä¸‹è½½æœ€æ–°ç‰ˆæœ¬unzip hacs.ziprm hacs.zip\n\n2.è¿›å…¥WebUI(http://IP:8123/developer-tools/yaml)é‡å¯Home AssistantæœåŠ¡\n3.è¿›å…¥ HACS ï¼Œä¸‹è½½Xiaomi Home æ’ä»¶ å¹¶é‡å¯Home AssistantæœåŠ¡(http://IP:8123/developer-tools/yaml)\n4.è¿›å…¥ è®¾ç½®-&gt; è®¾å¤‡&amp;æœåŠ¡-&gt; æ·»åŠ é›†æˆ-&gt; æœç´¢Xiaomi Home å¹¶æ·»åŠ \n"},{"title":"åœ¨termuxç¼–è¯‘opencv","url":"/hexo/2025/08/26/%E5%9C%A8termux%E7%BC%96%E8%AF%91opencv/","content":"pkg install build-essential cmake libjpeg-turbo libpng pythongit clone https://github.com/opencv/opencv# è¿›å…¥ç®¡ç†å‘˜ç¯å¢ƒtermux-chrootcd opencvmkdir buildcd buildLDFLAGS=&quot; -llog -lpython3&quot; cmake -DCMAKE_BUILD_TYPE=RELEASE -DCMAKE_INSTALL_PREFIX=$PREFIX -DBUILD_opencv_python3=on -DBUILD_opencv_python2=off -DOPENCV_EXTRA_MODULES=../modules -DPYTHON3_LIBRARIES=$PREFIX/lib/libpython3.so -DWITH_QT=OFF -DWITH_GTK=OFF -DBUILD_JAVA=OFF -DBUILD_ANDROID_EXAMPLES=OFF ..makemake install"},{"title":"æ³¨å…¥ä»»æ„ä»£ç åˆ°è¿è¡Œä¸­çš„ Electron åº”ç”¨","url":"/hexo/2025/10/11/%E6%B3%A8%E5%85%A5%E4%BB%BB%E6%84%8F%E4%BB%A3%E7%A0%81%E5%88%B0%E8%BF%90%E8%A1%8C%E4%B8%AD%E7%9A%84-Electron-%E5%BA%94%E7%94%A8/","content":"æœ¬æ–‡è½¬è‡ª https://cn-sec.com/archives/1899908.html\n\nç¬¬ä¸€æ¬¡å‘å¸ƒæ‰‹æ»‘ï¼Œå‘ç°é©¬èµ›å…‹æ²¡æ‰“å¹²å‡€ï¼Œåªèƒ½é‡å‘äº†\nElectron è¿™ç©æ„å„¿æ˜¯å¼€å‘èµ·æ¥çˆ½ï¼Œç”¨èµ·æ¥æƒ³åã€‚ä¸çŸ¥ä¸è§‰ç”µè„‘ä¸Šè£…äº†ä¸€ä¸ªåˆä¸€ä¸ªè‡ƒè‚¿ä¸å ªçš„ Chromium å‰¯æœ¬ï¼Œä¸çŸ¥ç»™å…¨çƒå˜æš–è´¡çŒ®äº†å¤šå°‘ç¢³æ’æ”¾é‡ã€‚æ€ªä¸å¾—è¿™å‡ å¹´å¤©æ°”è¶Šæ¥è¶Šå˜æ€ã€‚\næ–°çš„ â€œNT æ¶æ„â€ QQ ä¹ŸåŠ å…¥äº† Electron å¤§å†›ã€‚\nè®°å¾—å‡ å¹´å‰è¿˜èƒ½è§åˆ° QQProtect çš„é©±åŠ¨ã€‚æœ€è¿‘ä¸»åŠ›æœºä¸ç”¨ Windowsï¼Œä¸æ¸…æ¥šäº†ã€‚æ¢ Electron ç¡®å®å¯ä»¥ä¸€å¥—ä»£ç è·¨å¹³å°ï¼Œä½†è¿™æ ·ä¸€æ¥åˆ«è¯´è¿›ç¨‹ä¿æŠ¤ï¼Œè¿™ç ´æ¡†æ¶è¿˜è‡ªå¸¦äº†è¿è¡Œæ—¶ä»£ç æ³¨å…¥çš„æ¥å£ã€‚\nå¤§æ¦‚æ˜¯ PC ç«¯é€æ¸å¼å¾®ï¼Œç°åœ¨æ²¡ä»€ä¹ˆäººåšä»€ä¹ˆå°¾å·´ã€ç›—å·ä¹‹ç±»çš„äº‹æƒ…ï¼Œæ‰€ä»¥æ²¡å¿…è¦å†æŠ˜è…¾ä¿æŠ¤äº†ï¼Ÿ\næœ¬æ¥æƒ³åœ¨ Windows ä¸‹é¢æ¼”ç¤ºã€‚æˆ‘çš„ Windows å¼€äº† OneDrive åŒæ­¥ï¼Œç›´æ¥è§¦å‘äº†ä¸€ä¸ª bugã€‚\n\nè¿˜æ˜¯ç»§ç»­ Macã€‚\nElectron å³ä½¿æ˜¯æ‰“åŒ…åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œä»ç„¶å¸¦äº†è°ƒè¯•å™¨åé—¨ã€‚\nå¸¦ä¸Šå‚æ•° â€“remote-debugging-portï¼Œç„¶åç”¨ Chrome çš„ chrome:&#x2F;&#x2F;inspect é¡µé¢ï¼Œæˆ–è€…ç›´æ¥ç”¨ websocket å’Œè°ƒè¯•åè®®é€šä¿¡ï¼Œå°±èƒ½åœ¨ electron ä¸Šä¸‹æ–‡æ‰§è¡Œä»»æ„ jsã€‚ä»¥å‰è¿˜å‡ºè¿‡åˆ©ç”¨ DNS rebinding å®ç°å®Œå…¨è¿œç¨‹ä»£ç æ‰§è¡Œçš„ä¾‹å­ã€‚\nå¼€å‘è€…å¯ä»¥åœ¨ä¸šåŠ¡åˆå§‹åŒ–çš„ä»£ç é‡Œç›´æ¥æ£€æµ‹è¿™ä¸ª flagï¼Œæ‹’ç»æ‰§è¡Œã€‚åŒæ—¶ä¹Ÿä¸èƒ½å¤„ç† app è¿›ç¨‹å·²ç»åœ¨è¿è¡Œçš„æƒ…å†µã€‚\nä¸è¿‡ Node.js å¾ˆè´´å¿ƒåœ°ç»™äº†å¦ä¸€ä¸ªåŠ¨æ€å¯ç”¨è°ƒè¯•çš„æ–¹å¼ï¼Œå‘½ä»¤è¡Œå‘é€ SIGUSR1 ä¿¡å·ï¼š\nkill -SIGUSR1 [pid]\nWindows æ²¡æœ‰å¯¹åº”çš„æœºåˆ¶ï¼Œéœ€è¦åœ¨ nodejs é‡Œç”¨\nprocess._debugProcess(pid)\næºç åœ¨è¿™é‡Œï¼Œå¯ä»¥çœ‹åˆ° Windows ä¸‹è¿˜æ˜¯ç”¨çš„ CreateRemoteThreadã€‚\nhttps://github.com/nodejs/node/blob/9dd574c9e232/src/node_process_methods.cc#L348\nåº”è¯¥ä¸ä¼šè¢«ç»ˆç«¯å®‰å…¨è½¯ä»¶æ”¾è¿‡å§â€¦â€¦\nå¼€å¯äº†è°ƒè¯•ä¹‹åå°±å¯ä»¥åœ¨ Chrome çš„é‡Œçœ‹åˆ°è¿œç¨‹è°ƒè¯•ç›®æ ‡äº†ï¼šç„¶åå°±å¯ä»¥æ•´æ´»äº†\nrequire(&#x27;electron&#x27;).webContents.getAllWebContents()  .forEach(c =&gt; c.loadURL(&#x27;javascript:alert(location)&#x27;))\næƒ³æ³¨å…¥äºŒè¿›åˆ¶æ¨¡å—ï¼Ÿå†™ä¸€ä¸ª dllï¼Œprocess.dlopen ä¸€ä¸‹ã€‚\nè¿™æ˜¯æ¡†æ¶çš„ç‰¹æ€§ï¼Œä¸æ˜¯å®‰å…¨è¾¹ç•Œã€‚æ¯•ç«Ÿéƒ½èƒ½è¿è¡Œä»»æ„æœ¬åœ°ä»£ç äº†ï¼Œèƒ½å¹²çš„äº‹æƒ…å¤ªå¤šäº†ã€‚ä½†å¦‚æœä½ å¾ˆä»‹æ„è¿›ç¨‹è¢«äººä¹±æ’ä»£ç ï¼Œå¯èƒ½åœ¨ç”¨ Electron ä¹‹å‰è¦å¥½å¥½è€ƒè™‘ä¸€ç•ªã€‚\nåŸæ–‡å§‹å‘äºå¾®ä¿¡å…¬ä¼—å·ï¼ˆéå°å’¸é±¼è´©ï¼‰ï¼šæ³¨å…¥ä»»æ„ä»£ç åˆ°è¿è¡Œä¸­çš„ Electron åº”ç”¨\n"},{"title":"ç½‘é¡µé˜²æ­¢ä¼‘çœ ","url":"/hexo/2025/09/29/%E7%BD%91%E9%A1%B5%E9%98%B2%E6%AD%A2%E4%BC%91%E7%9C%A0/","content":"ä»Šå¤©æ‰çŸ¥é“ï¼ŒWebç½‘é¡µä¹Ÿèƒ½é˜»æ­¢æ¯å±äº†è¿™ç¯‡æ–‡ç« å‘å¸ƒäº 2024å¹´03æœˆ17æ—¥ï¼Œæ˜ŸæœŸæ—¥ï¼Œ23:35ï¼Œå½’ç±»äº JS APIã€‚ é˜…è¯» 22103 æ¬¡, ä»Šæ—¥ 13 æ¬¡ 8 æ¡è¯„è®º\nby zhangxinxu from https://www.zhangxinxu.com/wordpress/?p=11135 é‘«ç©ºé—´-é‘«ç”Ÿæ´»æœ¬æ–‡æ¬¢è¿åˆ†äº«ä¸èšåˆï¼Œå…¨æ–‡è½¬è½½å°±ä¸å¿…äº†ï¼Œå°Šé‡ç‰ˆæƒï¼Œåœˆå­å°±è¿™ä¹ˆå¤§ï¼Œè‹¥æ€¥ç”¨å¯ä»¥è”ç³»æˆæƒã€‚\nwake up\nä¸€ã€é˜»æ­¢å±å¹•é»‘å±ä¼‘çœ ä¹‹å‰åšPPTå½•åˆ¶çš„æ—¶å€™ï¼Œä¸€ä¸ªç”µè„‘æ˜¾ç¤ºå°è¯ï¼Œä¸€ä¸ªç”µè„‘å½•åˆ¶ï¼Œç„¶åæ˜¾ç¤ºå°è¯çš„é‚£ä¸ªç”µè„‘æ²¡å‡ åˆ†é’Ÿå°±é»‘å±ï¼Œçƒ¦ä¸èƒœçƒ¦ï¼Œæ²¡åŠæ³•ï¼Œå°±æ‰“å¼€ä¸€ä¸ªè§†é¢‘ï¼Œçª—å£å°å°çš„ï¼Œä¹Ÿå°±æ˜¯ç”»ä¸­ç”»æ¨¡å¼ï¼Œ\nä»Šå¤©æ‰å‘ç°ï¼ŒåŸæ¥ä¸ä¹…å‰ï¼ŒChromeå’ŒSafariæµè§ˆå™¨éƒ½æ”¯æŒäº†åä¸ºScreen Wake Lockçš„APIï¼Œå¯ä»¥è®¾ç½®Webç½‘é¡µæ‰“å¼€çš„çŠ¶æ€ä¸‹ï¼Œæ˜¾ç¤ºå™¨å±å¹•ä¸ä¼šè‡ªåŠ¨ä¼‘çœ ã€‚\næ ¹æ®æˆ‘æŸ¥æ‰¾çš„èµ„æ–™æ˜¾ç¤ºï¼Œç¾å›½çŸ¥åçƒ¹é¥ªç½‘ç«™ Betty Crocker å®ç° Screen Wake Lock API åï¼Œ å‘ç°å…¶ç”¨æˆ·çš„è´­ä¹°æ„æ„¿æŒ‡æ ‡å¢åŠ äº† 300%ã€‚å¦‚éœ€äº†è§£è¯¦æƒ…ï¼Œè¯·å‚é˜… ?? Betty Crocker æ¡ˆä¾‹ç ”ç©¶ã€‚\nè¿™è¿˜çœŸæ˜¯æ„å¤–ï¼Œå±…ç„¶è¿˜å¯ä»¥å¢åŠ äº§å“çš„ç›´æ¥æ”¶ç›Šã€‚\nä¸è¿‡åº”è¯¥åªå¯¹ç‰¹å®šç½‘ç«™æœ‰ç”¨ï¼Œåƒæ˜¯åšé¥­çš„ç½‘ç«™ï¼Œç”¨æˆ·åšèœçš„æ—¶å€™ï¼Œè‚¯å®šæ˜¯å¸Œæœ›ç½‘é¡µä¸€ç›´äº®ç€çš„ï¼Œå› ä¸ºè¦æ—¶ä¸æ—¶çœ‹ï¼Œæ‰€ä»¥ï¼Œæ”¶ç›Šæ‰è¿™ä¹ˆæ˜æ˜¾ã€‚\nå¦‚æœæ˜¯ä¼ ç»Ÿçš„ç¤¾äº¤ç½‘ç«™åº”è¯¥ä½œç”¨å°±ä¸€èˆ¬äº†ï¼Œä¸çŸ¥é“å°è¯´é˜…è¯»ç±»ç½‘ç«™çš„æ”¶ç›Šå¦‚ä½•â€¦â€¦\nè¿™ä¸ªä¹‹åå†è®®ï¼Œå½“ä¸‹æˆ‘å°±æœ‰ä¸€ä¸ªéœ€æ±‚åœºæ™¯ï¼ŒæŸé¡¹ç›®ä»‹ç»é¡µé¢ï¼Œè¿›å…¥æ¼”è®²æ¨¡å¼çš„æ—¶å€™ï¼Œä¸€å®šæ˜¯ä¸èƒ½æ¯å±çš„ã€‚\nå°±å¯ä»¥ä½¿ç”¨è¿™é‡Œçš„Screen Wake Lock APIäº†ã€‚\näºŒã€å±å¹•å”¤èµ·é”å®šAPIçš„è¯­æ³•ä¸ä½¿ç”¨è¿™ç§è¯­æ³•ç®€å•çš„APIçš„æœ€å¿«æ·çš„å­¦ä¹ æ–¹å¼å°±æ˜¯æ¡ˆä¾‹ã€‚\næ‚¨å¯ä»¥ç‹ ç‹ åœ°ç‚¹å‡»è¿™é‡Œï¼šæ˜¾ç¤ºå™¨å±å¹•å”¤èµ·é”å®šJSå®ç°demo\nåªè¦å‹¾é€‰å¦‚ä¸‹å›¾æ‰€ç¤ºçš„å¤é€‰æ¡†ï¼Œé‚£ä¹ˆï¼Œæ— è®ºç­‰å¾…å¤šä¹…ï¼Œå±å¹•éƒ½ä¼šä¸€ç›´ä¿æŒäº®è¹­è¹­çš„çŠ¶æ€ã€‚\nå±å¹•å”¤èµ·é”å®šäº¤äº’ç¤ºæ„\nè¯­æ³•ä¸ä½¿ç”¨è¦æƒ³å±å¹•ä¿æŒå”¤èµ·çŠ¶æ€ï¼Œå¾ˆç®€å•ï¼Œä¸€è¡Œä»£ç çš„äº‹æƒ…ï¼š\nnavigator.wakeLock.request(â€˜screenâ€™);ç»“æŸäº†ï¼Œå°±è¿™ä¹ˆç®€å•ã€‚\nç»“æŸäº†\nç”±äºä¿æŒå±å¹•å”¤é†’æ˜¯ä¸€ä¸ªå ç”¨èµ„æºå¼€é”€çš„æ“ä½œï¼Œæ‰€ä»¥ï¼Œæµè§ˆå™¨æœ‰ä¸ªè¡Œä¸ºï¼Œé‚£å°±æ˜¯å¦‚æœå½“å‰é¡µé¢æœ€å°åŒ–ï¼Œæˆ–è€…éå½“å‰æ˜¾ç¤ºæ ‡ç­¾é¡µï¼Œå±å¹•çš„Wakeé”å®šè¡Œä¸ºä¼šè¢«é‡Šæ”¾ï¼Œç”¨æˆ·å†åˆ‡æ¢è¿‡æ¥çš„æ—¶å€™ï¼Œå°±æ²¡æœ‰é”å®šäº†ï¼Œå› æ­¤ï¼Œè¿˜éœ€è¦å…¶ä»–ä»£ç çš„å¤„ç†ã€‚\ndocument.addEventListener(â€˜visibilitychangeâ€™, () &#x3D;&gt; {  if (document.visibilityState &#x3D;&#x3D;&#x3D; â€˜visibleâ€™) {    navigator.wakeLock.request(â€œscreenâ€)  }});è¿˜æ²¡å®Œï¼Œå¦‚æœä»…ä»…åªæ˜¯wakeLockï¼Œåœ¨å®æ“è¿‡ç¨‹ä¸­ï¼Œå¾ˆå®¹æ˜“é‡å¤æ‰§è¡Œå”¤é†’é”å®šï¼Œå› æ­¤ï¼Œè¿˜éœ€è¦çŸ¥é“ä»€ä¹ˆæ—¶å€™é‡Šæ”¾äº†å±å¹•å”¤é†’æ“ä½œï¼Œä»¥åŠå¦‚ä½•ä¸»åŠ¨é‡Šæ”¾ç¦æ­¢ç†„å±çš„åŠŸèƒ½ã€‚\nè¿™å°±è¦è¯´ä¸€è¯´ WakeLockSentinel å¯¹è±¡äº†ï¼Œè¯¥å¯¹è±¡æ˜¯navigator.wakeLock.request(â€˜screenâ€™)è¿™ä¸ªPromiseæ‰§è¡Œåçš„è¿”å›å€¼ã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨then()è·å–ï¼Œä¾‹å¦‚ï¼š\nlet wakeLock &#x3D; null;navigator.wakeLock.request(â€˜screenâ€™).then(result &#x3D;&gt; {    wakeLock &#x3D; result;})ä¹Ÿå¯ä»¥ä½¿ç”¨async&#x2F;awaitè¯­æ³•ï¼Œä¾‹å¦‚ï¼š\nlet wakeLock &#x3D; null;async () &#x3D;&gt; {    wakeLock &#x3D; await navigator.wakeLock.request(â€˜screenâ€™);}ä¸»åŠ¨é‡Šæ”¾\næƒ³è¦é‡Šæ”¾ç†„å±é”å®šï¼Œåˆ™å¯ä»¥å€ŸåŠ©ä¸Šé¢çš„wakeLockå¯¹è±¡ï¼Œä»£ç ç¤ºæ„ï¼š\nwakeLock.release().then(() &#x3D;&gt; {  wakeLock &#x3D; null;});ä»¥åŠï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ä»€ä¹ˆæ—¶å€™å”¤é†’é”å®šæ˜¯ä»€ä¹ˆæ—¶å€™é‡Šæ”¾çš„ï¼Œä½¿ç”¨releaseäº‹ä»¶ï¼š\nwakeLock.addEventListener(â€˜releaseâ€™, () &#x3D;&gt; {    console.log(â€˜å”¤é†’é”å®šå·²é‡Šæ”¾â€™);});ç›¸å…³ä»£ç åœ¨demoæ¼”ç¤ºé¡µé¢å‡æœ‰ä½“ç°ã€‚\nä¸‰ã€åŠ²é…’è™½å¥½ï¼Œå¯åˆ«è´ªæ¯å±å¹•å”¤èµ·é”å®šä¸æ˜¯æ²¡æœ‰ä»£ä»·çš„ï¼Œå¦‚æœå±å¹•ä¸€ç›´ä¿æŒæ˜äº®ï¼Œä¼šé˜»æ­¢å±å¹•ä¿æŠ¤ç¨‹åºçš„å¯åŠ¨ï¼Œä¼šå½±å“æ˜¾ç¤ºå™¨çš„å¯¿å‘½ã€‚\nå¯¹äºç§»åŠ¨è®¾å¤‡ï¼Œå±å¹•å¾€å¾€æ˜¯æœ€è€—ç”µçš„ï¼Œå› æ­¤ï¼Œé˜»æ­¢ç†„å±ä¼šå¸¦æ¥æ›´é«˜çš„ç”µé‡å¼€é”€ï¼Œå› æ­¤ï¼Œéå¿…è¦åœºæ™¯æ˜¯ä¸æ¨èå¯ç”¨ç†„å±é”å®šçš„ã€‚\nè¦æ±‚\næ­¤APIè¦æƒ³ç”Ÿæ•ˆï¼Œéœ€è¦æ˜¯httpsåè®®ï¼Œæˆ–è€…æ˜¯localhostæœ¬åœ°ç¯å¢ƒã€‚\nå…¼å®¹æ€§\nç›®å‰Chromeå’ŒSafariæµè§ˆå™¨å‡å·²ç»æ”¯æŒwake-lockç‰¹æ€§ï¼ŒFirefoxå·²ç»å¼€å¯å®éªŒæ”¯æŒï¼ŒæŒ‰ç…§å†å²ç»éªŒï¼Œæ²¡å¤šä¹…å°±ä¼šæ­£å¼æ”¯æŒäº†ï¼Œæ­¤APIå…¨é¢ä½¿ç”¨æŒ‡æ—¥å¯å¾…ã€‚\nscreen wake lock å…¼å®¹æ€§\nç¢ç¢å¿µæ—¶é—´\næ˜¥èŠ‚å‰æ–°ä¹¦å†™å®Œï¼Œäºæ˜¯å†³å®šç»™è‡ªå·±æ”¾ä¸‰ä¸ªæœˆçš„å‡ï¼Œæ¯å¤©æ—©ç¡ï¼Œæ¯å‘¨é’“ä¸¤åœºé±¼ï¼Œè‡ªç„¶è€Œç„¶ï¼Œæ–‡ç« æ›´æ–°é¢‘ç‡å°±ä¸‹æ¥äº†ã€‚\nä¸€è½¬çœ¼ï¼Œä¹Ÿæ˜¯å¿«40çš„äººäº†ï¼Œæ—¶é—´çœŸçš„æ˜¯å—ï¼Œä»Šå¤©è¿˜çœ‹äº†è‡ªå·±10å¹´å‰çš„ç…§ç‰‡ï¼Œä»¿ä½›å°±åœ¨æ˜¨å¤©ã€‚\nå¿ƒæ€ä¹Ÿå˜äº†å¾ˆå¤šï¼Œæ›´å¹³å’Œï¼Œæ›´ç¨³å®šäº†ï¼Œä½†ä¹Ÿé€ æˆåˆ›é€ åŠ›ä¸‹é™äº†ï¼Œä»¥å¾€çš„é‚£äº›å¥‡æ€å¦™æƒ³ç°åœ¨å¾ˆéš¾å†è¿¸å‘å‡ºæ¥äº†ï¼Œæ‰€ä»¥ï¼Œç©¶ç«Ÿæ˜¯å˜å¾—æ›´å¥½è¿˜æ˜¯æœ‰æ‰€é€€æ­¥ï¼Œä¸€æ—¶ä¹Ÿè¯´ä¸æ¸…æ¥šã€‚\nä¸€ç›´æƒ³ä»€ä¹ˆæ—¶å€™å¼„ä¸ªé±¼å¡˜ç©ç©ï¼Œå¯æƒœå½“ä¸‹æ²¡æœ‰é‚£ä¹ˆå¤šæ—¶é—´å’Œç²¾åŠ›ï¼Œéš¾é“è¦ç­‰é€€ä¼‘ï¼Œæˆ–è€…å…¼èŒæé±¼å¡˜ï¼Œä¸è¡Œä¸è¡Œï¼Œæ²¡é‚£ä¹ˆå¤šæ—¶é—´ã€‚\nå“å‘€ï¼Œæƒ³è¿œäº†ï¼Œå…ˆæ¢ä¸ªå¯ä»¥éšä¾¿å…»é±¼çš„å¤§æˆ¿å­å†è¯´å§ã€‚\n????\n"}]